<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>REKENREK • 4 EN 1</title>
  <style>
    :root{
      --bg:#0b1220;
      --border:rgba(15,23,42,.15);
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; }
    body{
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      background:var(--bg);
      overflow:hidden;
    }

    .shell{
      height:100%;
      display:flex;
    }

    /* Left white panel (menu) */
    .sidebar{
      width:250px;
      min-width:220px;
      background:#fff;
      border-right:1px solid var(--border);
      padding:14px 12px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .nav-btn{
      width:100%;
      text-align:left;
      border:0;
      border-radius:14px;
      padding:14px 14px;
      font-weight:900;
      font-size:14px;
      cursor:pointer;
      transition:transform .08s ease, filter .15s ease, outline-color .15s ease;
      color:white;
      outline:3px solid transparent;
      outline-offset:2px;
    }
    .nav-btn:active{ transform:translateY(1px); }
    .nav-btn:hover{ filter:brightness(1.04); }
    .nav-btn.active{ outline-color:rgba(17,24,39,.22); }

    /* button colors */
    .btn-d1{ background:#ef4444; }   /* rouge */
    .btn-d2{ background:#3b82f6; }   /* bleu */
    .btn-pd{ background:#f59e0b; }   /* ambre */
    .btn-tab{ background:#22c55e; }  /* vert */

    /* Stage */
    #stage{
      flex:1;
      height:100%;
      position:relative;
      background:#fff; /* pour éviter un bord sombre autour des pages */
    }

    iframe.tool{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      border:0;
      display:none;
      background:white;
    }
    iframe.tool.active{ display:block; }

    @media (max-width: 820px){
      .sidebar{ width:210px; padding:12px 10px; }
      .nav-btn{ font-size:13px; padding:12px 12px; }
    }
  </style>
</head>

<body>
  <div class="shell">
    <div class="sidebar" role="navigation" aria-label="Outils">
      <button class="nav-btn btn-d1 active" data-key="d1">Doubles • Niv. 1</button>
      <button class="nav-btn btn-d2" data-key="d2">Doubles • Niv. 2</button>
      <button class="nav-btn btn-pd" data-key="pd">Presque Doubles</button>
      <button class="nav-btn btn-tab" data-key="tab">Tables</button>
    </div>

    <div id="stage">
      <!-- IMPORTANT : on ne modifie PAS tes 4 codes. On les charge tels quels dans des iframes. -->
      <iframe class="tool active" data-key="d1" src="double_niv1.html" title="Doubles Niveau 1"></iframe>
        <iframe class="tool" data-key="d2" src="double_niv2.html" title="Doubles Niveau 2"></iframe>
        <iframe class="tool" data-key="pd" src="presque%20double.html" title="Presque Doubles"></iframe>
        <iframe class="tool" data-key="tab" src="tables_generateur.html" title="Tables"></iframe>
    </div>
  </div>

  <script>
    const tabs = Array.from(document.querySelectorAll('button.nav-btn'));
    const frames = Array.from(document.querySelectorAll('iframe.tool'));

    function setActive(key){
      tabs.forEach(b => b.classList.toggle('active', b.dataset.key === key));
      frames.forEach(f => f.classList.toggle('active', f.dataset.key === key));

      const url = new URL(window.location.href);
      url.searchParams.set('tool', key);
      history.replaceState(null, '', url.toString());
    }

    tabs.forEach(btn => btn.addEventListener('click', () => setActive(btn.dataset.key)));

    (function initFromQuery(){
      const url = new URL(window.location.href);
      const key = url.searchParams.get('tool');
      if(key && frames.some(f => f.dataset.key === key)) setActive(key);
      else setActive('d1');
    })();
  </script>
</body>
</html>
